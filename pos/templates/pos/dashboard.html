{% extends 'base_hms.html' %}

{% block title %}Punto de Venta - HMetaHIS{% endblock %}

{% block breadcrumb %}
<li class="breadcrumb-item"><a href="{% url 'landing_page' %}">Inicio</a></li>
<li class="breadcrumb-item"><a href="/dashboard/">ERP</a></li>
<li class="breadcrumb-item active">Punto de Venta</li>
{% endblock %}

{% block sidebar %}
<li class="nav-item">
    <a class="nav-link active" href="/pos/">
        <i class="fas fa-tachometer-alt me-2"></i>Dashboard
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="/pos/lista/">
        <i class="fas fa-list me-2"></i>Lista
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="/pos/crear/">
        <i class="fas fa-plus me-2"></i>Nuevo
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="/pos/reportes/">
        <i class="fas fa-chart-bar me-2"></i>Reportes
    </a>
</li>
{% endblock %}

{% block content %}
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">
        <i class="fas fa-cash-register me-2"></i>
        Punto de Venta
    </h1>
    <div class="btn-toolbar mb-2 mb-md-0">
        <div class="btn-group me-2">
            <a href="/pos/crear/" class="btn btn-primary">
                <i class="fas fa-plus me-1"></i>Nuevo
            </a>
            <button type="button" class="btn btn-outline-secondary">
                <i class="fas fa-download me-1"></i>Exportar
            </button>
        </div>
    </div>
</div>

<!-- Estadísticas -->
<div class="row mb-4">
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="stats-card">
            <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                    <div class="text-xs font-weight-bold text-uppercase mb-1">Total</div>
                    <div class="h5 mb-0 font-weight-bold">1,250</div>
                </div>
                <div class="col-auto">
                    <i class="fas fa-cash-register fa-2x text-white-50"></i>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="stats-card">
            <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                    <div class="text-xs font-weight-bold text-uppercase mb-1">Activos</div>
                    <div class="h5 mb-0 font-weight-bold">890</div>
                </div>
                <div class="col-auto">
                    <i class="fas fa-check-circle fa-2x text-white-50"></i>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="stats-card">
            <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                    <div class="text-xs font-weight-bold text-uppercase mb-1">Hoy</div>
                    <div class="h5 mb-0 font-weight-bold">45</div>
                </div>
                <div class="col-auto">
                    <i class="fas fa-calendar-day fa-2x text-white-50"></i>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="stats-card">
            <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                    <div class="text-xs font-weight-bold text-uppercase mb-1">Este Mes</div>
                    <div class="h5 mb-0 font-weight-bold">1,200</div>
                </div>
                <div class="col-auto">
                    <i class="fas fa-calendar-alt fa-2x text-white-50"></i>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Descripción del Módulo -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-info-circle me-2"></i>
                    Acerca de Punto de Venta
                </h5>
            </div>
            <div class="card-body">
                <p class="lead">Punto de venta</p>
                <p>Este módulo proporciona todas las funcionalidades necesarias para la gestión completa de punto de venta en el sistema hospitalario HMetaHIS.</p>
                
                <div class="row mt-4">
                    <div class="col-md-4">
                        <div class="text-center">
                            <i class="fas fa-cogs fa-3x text-primary mb-3"></i>
                            <h5>Gestión Completa</h5>
                            <p class="text-muted">Administración integral de todos los aspectos del módulo</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-center">
                            <i class="fas fa-chart-line fa-3x text-success mb-3"></i>
                            <h5>Reportes Avanzados</h5>
                            <p class="text-muted">Análisis detallado y reportes personalizados</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-center">
                            <i class="fas fa-mobile-alt fa-3x text-info mb-3"></i>
                            <h5>Acceso Móvil</h5>
                            <p class="text-muted">Interfaz responsive para dispositivos móviles</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Acciones Rápidas -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-bolt me-2"></i>
                    Acciones Rápidas
                </h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3 mb-3">
                        <a href="/pos/crear/" class="btn btn-primary w-100">
                            <i class="fas fa-plus fa-2x mb-2"></i><br>
                            Nuevo Registro
                        </a>
                    </div>
                    <div class="col-md-3 mb-3">
                        <a href="/pos/lista/" class="btn btn-success w-100">
                            <i class="fas fa-list fa-2x mb-2"></i><br>
                            Ver Lista
                        </a>
                    </div>
                    <div class="col-md-3 mb-3">
                        <a href="/pos/reportes/" class="btn btn-info w-100">
                            <i class="fas fa-chart-bar fa-2x mb-2"></i><br>
                            Reportes
                        </a>
                    </div>
                    <div class="col-md-3 mb-3">
                        <a href="/pos/configuracion/" class="btn btn-secondary w-100">
                            <i class="fas fa-cog fa-2x mb-2"></i><br>
                            Configuración
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Estado del Sistema -->
<div class="row">
    <div class="col-md-8">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-clock me-2"></i>
                    Actividad Reciente
                </h5>
            </div>
            <div class="card-body">
                <div class="list-group list-group-flush">
                    <div class="list-group-item d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="mb-1">Nuevo registro creado</h6>
                            <small class="text-muted">Usuario: Admin - Hace 5 minutos</small>
                        </div>
                        <span class="badge bg-primary rounded-pill">Nuevo</span>
                    </div>
                    <div class="list-group-item d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="mb-1">Registro actualizado</h6>
                            <small class="text-muted">Usuario: Doctor García - Hace 15 minutos</small>
                        </div>
                        <span class="badge bg-success rounded-pill">Actualizado</span>
                    </div>
                    <div class="list-group-item d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="mb-1">Reporte generado</h6>
                            <small class="text-muted">Usuario: Contador - Hace 30 minutos</small>
                        </div>
                        <span class="badge bg-info rounded-pill">Reporte</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-md-4">
        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-chart-pie me-2"></i>
                    Estadísticas
                </h5>
            </div>
            <div class="card-body">
                <canvas id="statsChart" width="300" height="200"></canvas>
            </div>
        </div>
        
        <div class="card mt-3">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-bell me-2"></i>
                    Notificaciones
                </h5>
            </div>
            <div class="card-body">
                <div class="alert alert-info" role="alert">
                    <i class="fas fa-info-circle me-2"></i>
                    <strong>Módulo activo</strong> y funcionando correctamente
                </div>
                <div class="alert alert-success" role="alert">
                    <i class="fas fa-check-circle me-2"></i>
                    <strong>Sincronización</strong> con otros módulos exitosa
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// Gráfico de estadísticas
const ctx = document.getElementById('statsChart').getContext('2d');
const statsChart = new Chart(ctx, {
    type: 'doughnut',
    data: {
        labels: ['Activos', 'Inactivos', 'Pendientes'],
        datasets: [{
            data: [70, 20, 10],
            backgroundColor: [
                '#27ae60',
                '#e74c3c',
                '#f39c12'
            ]
        }]
    },
    options: {
        responsive: true,
        plugins: {
            legend: {
                position: 'bottom',
            }
        }
    }
});
</script>
{% endblock %}

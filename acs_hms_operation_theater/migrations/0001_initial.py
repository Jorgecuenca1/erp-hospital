# Generated by Django 4.2.23 on 2025-07-12 05:46

from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='TheaterBooking',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('booking_id', models.CharField(blank=True, max_length=20, unique=True)),
                ('scheduled_start', models.DateTimeField()),
                ('scheduled_end', models.DateTimeField()),
                ('actual_start', models.DateTimeField(blank=True, null=True)),
                ('actual_end', models.DateTimeField(blank=True, null=True)),
                ('status', models.CharField(choices=[('confirmed', 'Confirmed'), ('tentative', 'Tentative'), ('cancelled', 'Cancelled'), ('completed', 'Completed'), ('in_progress', 'In Progress'), ('delayed', 'Delayed'), ('emergency', 'Emergency')], default='confirmed', max_length=20)),
                ('priority', models.CharField(choices=[('routine', 'Routine'), ('urgent', 'Urgent'), ('emergency', 'Emergency'), ('elective', 'Elective')], default='routine', max_length=20)),
                ('setup_time', models.IntegerField(default=30, help_text='Setup time in minutes')),
                ('cleanup_time', models.IntegerField(default=30, help_text='Cleanup time in minutes')),
                ('special_requirements', models.TextField(blank=True)),
                ('equipment_needed', models.TextField(blank=True)),
                ('booking_date', models.DateTimeField(auto_now_add=True)),
                ('cancellation_reason', models.TextField(blank=True)),
                ('cancelled_date', models.DateTimeField(blank=True, null=True)),
                ('notes', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Theater Booking',
                'verbose_name_plural': 'Theater Bookings',
                'ordering': ['-scheduled_start'],
            },
        ),
        migrations.CreateModel(
            name='TheaterEquipmentChecklist',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('checklist_id', models.CharField(blank=True, max_length=20, unique=True)),
                ('anesthesia_machine', models.CharField(choices=[('available', 'Available'), ('not_available', 'Not Available'), ('maintenance', 'Under Maintenance'), ('calibration', 'Needs Calibration')], default='available', max_length=20)),
                ('ventilator', models.CharField(choices=[('available', 'Available'), ('not_available', 'Not Available'), ('maintenance', 'Under Maintenance'), ('calibration', 'Needs Calibration')], default='available', max_length=20)),
                ('monitoring_equipment', models.CharField(choices=[('available', 'Available'), ('not_available', 'Not Available'), ('maintenance', 'Under Maintenance'), ('calibration', 'Needs Calibration')], default='available', max_length=20)),
                ('electrocautery', models.CharField(choices=[('available', 'Available'), ('not_available', 'Not Available'), ('maintenance', 'Under Maintenance'), ('calibration', 'Needs Calibration')], default='available', max_length=20)),
                ('suction_unit', models.CharField(choices=[('available', 'Available'), ('not_available', 'Not Available'), ('maintenance', 'Under Maintenance'), ('calibration', 'Needs Calibration')], default='available', max_length=20)),
                ('defibrillator', models.CharField(choices=[('available', 'Available'), ('not_available', 'Not Available'), ('maintenance', 'Under Maintenance'), ('calibration', 'Needs Calibration')], default='available', max_length=20)),
                ('temperature_ok', models.BooleanField(default=True)),
                ('humidity_ok', models.BooleanField(default=True)),
                ('air_filtration_ok', models.BooleanField(default=True)),
                ('lighting_ok', models.BooleanField(default=True)),
                ('emergency_power_ok', models.BooleanField(default=True)),
                ('fire_extinguisher_ok', models.BooleanField(default=True)),
                ('emergency_exits_clear', models.BooleanField(default=True)),
                ('communication_system_ok', models.BooleanField(default=True)),
                ('instruments_sterile', models.BooleanField(default=True)),
                ('instruments_complete', models.BooleanField(default=True)),
                ('implants_available', models.BooleanField(default=True)),
                ('overall_status', models.CharField(choices=[('pending', 'Pending'), ('in_progress', 'In Progress'), ('completed', 'Completed'), ('failed', 'Failed')], default='pending', max_length=20)),
                ('checked_at', models.DateTimeField(blank=True, null=True)),
                ('issues_found', models.TextField(blank=True)),
                ('corrective_actions', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Equipment Checklist',
                'verbose_name_plural': 'Equipment Checklists',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TheaterIncident',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('incident_id', models.CharField(blank=True, max_length=20, unique=True)),
                ('incident_type', models.CharField(choices=[('equipment_failure', 'Equipment Failure'), ('safety_incident', 'Safety Incident'), ('staff_injury', 'Staff Injury'), ('patient_safety', 'Patient Safety'), ('contamination', 'Contamination'), ('protocol_violation', 'Protocol Violation'), ('communication_failure', 'Communication Failure'), ('other', 'Other')], max_length=30)),
                ('severity', models.CharField(choices=[('minor', 'Minor'), ('moderate', 'Moderate'), ('major', 'Major'), ('critical', 'Critical')], max_length=10)),
                ('description', models.TextField()),
                ('occurred_at', models.DateTimeField()),
                ('immediate_action_taken', models.TextField(blank=True)),
                ('corrective_actions', models.TextField(blank=True)),
                ('preventive_measures', models.TextField(blank=True)),
                ('is_resolved', models.BooleanField(default=False)),
                ('resolved_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Theater Incident',
                'verbose_name_plural': 'Theater Incidents',
                'ordering': ['-occurred_at'],
            },
        ),
        migrations.CreateModel(
            name='TheaterInventory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('item_name', models.CharField(max_length=200)),
                ('item_type', models.CharField(choices=[('consumable', 'Consumable'), ('reusable', 'Reusable'), ('equipment', 'Equipment'), ('medication', 'Medication'), ('implant', 'Implant'), ('disposable', 'Disposable')], max_length=20)),
                ('current_stock', models.IntegerField(default=0)),
                ('minimum_stock', models.IntegerField(default=5)),
                ('maximum_stock', models.IntegerField(default=50)),
                ('unit_cost', models.DecimalField(decimal_places=2, default=0.0, max_digits=8)),
                ('expiry_date', models.DateField(blank=True, null=True)),
                ('batch_number', models.CharField(blank=True, max_length=50)),
                ('supplier', models.CharField(blank=True, max_length=100)),
                ('last_restocked', models.DateTimeField(blank=True, null=True)),
                ('is_critical', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Theater Inventory',
                'verbose_name_plural': 'Theater Inventories',
                'ordering': ['item_name'],
            },
        ),
        migrations.CreateModel(
            name='TheaterPreparation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('preparation_type', models.CharField(choices=[('setup', 'Setup'), ('sterilization', 'Sterilization'), ('equipment_check', 'Equipment Check'), ('cleaning', 'Cleaning'), ('inventory_check', 'Inventory Check'), ('temperature_check', 'Temperature Check'), ('safety_check', 'Safety Check')], max_length=20)),
                ('description', models.TextField()),
                ('estimated_duration', models.IntegerField(help_text='Duration in minutes')),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('in_progress', 'In Progress'), ('completed', 'Completed'), ('failed', 'Failed'), ('cancelled', 'Cancelled')], default='pending', max_length=20)),
                ('scheduled_start', models.DateTimeField()),
                ('scheduled_end', models.DateTimeField()),
                ('actual_start', models.DateTimeField(blank=True, null=True)),
                ('actual_end', models.DateTimeField(blank=True, null=True)),
                ('notes', models.TextField(blank=True)),
                ('issues_encountered', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Theater Preparation',
                'verbose_name_plural': 'Theater Preparations',
                'ordering': ['scheduled_start'],
            },
        ),
        migrations.CreateModel(
            name='TheaterSchedule',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('schedule_type', models.CharField(choices=[('regular', 'Regular Hours'), ('emergency', 'Emergency Hours'), ('maintenance', 'Maintenance'), ('cleaning', 'Deep Cleaning'), ('blocked', 'Blocked')], default='regular', max_length=20)),
                ('start_time', models.TimeField()),
                ('end_time', models.TimeField()),
                ('is_available', models.BooleanField(default=True)),
                ('max_bookings', models.IntegerField(default=4)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Theater Schedule',
                'verbose_name_plural': 'Theater Schedules',
                'ordering': ['date', 'start_time'],
            },
        ),
        migrations.CreateModel(
            name='TheaterStaff',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(choices=[('anesthesiologist', 'Anesthesiologist'), ('surgeon', 'Surgeon'), ('scrub_nurse', 'Scrub Nurse'), ('circulating_nurse', 'Circulating Nurse'), ('technician', 'Technician'), ('supervisor', 'Theater Supervisor'), ('coordinator', 'Theater Coordinator')], max_length=20)),
                ('shift', models.CharField(choices=[('morning', 'Morning Shift'), ('afternoon', 'Afternoon Shift'), ('night', 'Night Shift'), ('on_call', 'On Call')], max_length=20)),
                ('date', models.DateField()),
                ('start_time', models.TimeField()),
                ('end_time', models.TimeField()),
                ('is_primary', models.BooleanField(default=False)),
                ('is_available', models.BooleanField(default=True)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Theater Staff',
                'verbose_name_plural': 'Theater Staff',
                'ordering': ['date', 'start_time'],
            },
        ),
        migrations.CreateModel(
            name='TheaterUtilization',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateField()),
                ('total_scheduled_hours', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('total_actual_hours', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('total_surgeries', models.IntegerField(default=0)),
                ('completed_surgeries', models.IntegerField(default=0)),
                ('cancelled_surgeries', models.IntegerField(default=0)),
                ('emergency_surgeries', models.IntegerField(default=0)),
                ('utilization_rate', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('turnover_time', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('maintenance_hours', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('cleaning_hours', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('idle_hours', models.DecimalField(decimal_places=2, default=0.0, max_digits=5)),
                ('notes', models.TextField(blank=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Theater Utilization',
                'verbose_name_plural': 'Theater Utilizations',
                'ordering': ['-date'],
            },
        ),
    ]

{% extends 'base.html' %}

{% block title %}Detalle de Movimiento de Inventario{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="card shadow-sm">
        <div class="card-header d-flex justify-content-between align-items-center">
            <h3>Detalle de Movimiento #{{ movimiento.pk }}</h3>
            <div>
                <a href="{% url 'movimiento_update' movimiento.pk %}" class="btn btn-primary">Editar</a>
                <a href="{% url 'movimiento_delete' movimiento.pk %}" class="btn btn-danger">Eliminar</a>
            </div>
        </div>
        <div class="card-body">
            <p><strong>Producto:</strong> <a href="{% url 'producto_detail' movimiento.producto.pk %}">{{ movimiento.producto.nombre }}</a></p>
            <p><strong>Fecha y Hora:</strong> {{ movimiento.fecha_hora|date:"d M, Y H:i" }}</p>
            <p><strong>Tipo de Movimiento:</strong> 
                {% if movimiento.tipo_movimiento == 'ENTRADA' %}
                    <span class="badge bg-success">Entrada</span>
                {% elif movimiento.tipo_movimiento == 'SALIDA' %}
                    <span class="badge bg-danger">Salida</span>
                {% else %}
                    <span class="badge bg-info text-dark">Ajuste</span>
                {% endif %}
            </p>
            <p><strong>Cantidad:</strong> {{ movimiento.cantidad|floatformat:2 }} {{ movimiento.producto.unidad_medida }}</p>
            <p><strong>Raz√≥n:</strong> {{ movimiento.razon|default:"No especificada." }}</p>
            <p><strong>Referencia Documento:</strong> {{ movimiento.referencia_documento|default:"N/A" }}</p>
        </div>
        <div class="card-footer text-muted">
            <a href="{% url 'movimiento_list' %}" class="btn btn-secondary">Volver a la Lista de Movimientos</a>
        </div>
    </div>
</div>
{% endblock %} 